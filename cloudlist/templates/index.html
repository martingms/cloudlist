{% extends "base.html" %}

{% block extrahead %}
<link href="/static/styles/player.css" rel="stylesheet" type="text/css" />
{% endblock extrahead %}

{% block scripts %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js" type="text/javascript"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js" type="text/javascript"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/mustache.js/0.3.0/mustache.min.js" type="text/javascript"></script>
{#<script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.1.6/underscore-min.js" type="text/javscript"></script>#}
<script src="/static/js/lib/underscore-min.js" type="text/javascript"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.5/backbone-min.js" type="text/javascript"></script>
<script src="/static/js/lib/backbone-relational.js" type="text/javascript"></script>
<script src="/static/js/lib/soundmanager2-nodebug.js" type="text/javascript"></script>
{#<script src="/static/js/lib/soundmanager2.js type="text/javascript"></script>#}

<script src="/static/js/lib/swfobject.js" type="text/javascript"></script>
{# Embedding the YouTube chromeless player. Should probably be moved elsewhere. #}
<script type="text/javascript">
  swfobject.embedSWF("http://www.youtube.com/apiplayer?enablejsapi=1&version=3", "ytplayer", "50", "25", "8", null, null, { allowScriptAccess: "always" });
</script>

{# For production
<script src="/static/js/app.min.js"></script>#}
<script src="/static/js/app.js"></script>


{% endblock scripts %}

{% block content %}

<div id="header">
</div>

<div id="ytplayer">
</div>

<div id="main" style="">
  <div id="player">

  </div>

  <div id="tracklist">
    <p class="playlistname">
      <span id="playlistchoose" style="display:none">â–¼ </span><span id="plnview">Playlist</span>
      <span id="plnedit" style="display:none"><input id="plneditinput" placeholder="Godlista" type="text"></span>
      <span id="add"><img src="/static/img/plus2.gif"></span>
    </p>
    <input id="add-track-input" placeholder="Paste URL and press enter..." type="text" style="display: none">
    <ol class="tracks">
    </ol>
  </div>
</div>

<div id="footer">
</div>

{% raw %}
<!-- Mustache templates -->
<div id="templates" style="display: none">
  <script type="text/template" id="track-template">
    <span class="title">{{handler.shorttitle}}</span><span class="duration">{{duration}}</span>
    <div class="trackid" style="display: none">{{id}}</div>
  </script>

  <script type="text/template" id="player-preload-template">
    <img class="preloadplay" src="/static/img/bigplay.png">
  </script>

  <script type="text/template" id="player-template">
    <div id="artwork">
      <span class="img">
        <img id="mainart" src="{{handler.artworkurl}}">
      </span>
    </div>

    <div id="trackinfo">
      <p class="title">{{handler.title}}</p>
      <p class="artist-outer">Uploaded by 
        <span class="artist">{{#handler.user}}{{handler.username}}{{/handler.user}}</span>
      </p>
    </div>

    <div id="playercontrols">
      <div id="buttons">
        <div id="previous">
        </div>
        <div id="play">
        </div>
        <div id="pause" style="display:none">
        </div>
        <div id="next">
        </div>
      </div>
      <div id="progress-wrapper">
        <div id="progress">
          <div id="elapsed" style="width: 0%">
          </div>
        </div>
      </div>
    </div>

  </script>
</div>

{% endraw %}
{% endblock content %}

